# 開發環境

## 部屬專案目錄

```shell
cd <production>/
mkdir -p ./roles
mkdir -p ./.ssh
```

* 官方建議

```
project/
├── filter_plugins          # 自定义 filter 插件存放目录
├── fooapp                  # Fooapp 片色目录 ( 与 common 角色目录平级)
├── group_vars             
│   ├── group1              # group1 自定义变量文件
│   └── group2              # group2 自定义变量文件
├── host_vars
│   ├── hostname1           # hostname1 自定义变量文件
│   └── hostname2           # hostname1 自定义变量文件
├── library                 # 自定义模块存放目录
├── monitoring              # Monitoring 角色目录 ( 与 common 角色目录平级)
├── roles                   # Role 存放目录
│   └── common              # common 角色目录
│       ├── defaults       
│       │   └── main.yml    # common 角色自定义文件 (优先级低)
│       ├── files
│       │   ├── bar.txt     # common 角色 files 资源文件
│       │   └── foo.sh      # common 角色 files 资源文件
│       ├── handlers
│       │   └── main.yml    # common 角色 handlers 入口文件
│       ├── meta
│       │   └── main.yml    # common 角色 依赖文件
│       ├── tasks
│       │   └── main.yml    # common 角色 task 入口文件
│       ├── template
│       │   └── ntp.conf.j2 # common 角色 template 文件
│       └── vars
│           └── main.yml    # common 角色 变量定义文件
├── site.yaml               # Playbook 统一入口文件
├── stage                   # stage 环境的 inventory 文件
├── webservers.yml          # 特殊 Playbook 文件
└── webtier                 # webtier 角色目录 ( 与 common 角色目录平级)
```

## 安裝CentOS6

## ssh-keygen

* 產生ssh key，並放置在專案目錄中

```shell
ssh-keygen
```

/home/jameschang/Documents/gitContent/jameschang/GCB/.ssh/id_rsa

* 將公鑰設定放到伺服器上

```shell
ssh-copy-id -i your_key_path username@server_host
```

* 連接測試

```shell
ssh -i .ssh/id_rsa root@192.168.56.138
```

## 管理主機安裝 ansible

```shell
sudo apt install ansible-lint
ansible-lint --version
```

